# API Design Kit
# Best practices for designing and implementing robust APIs.
# Covers RESTful design, error responses, versioning, and documentation.

[meta_skill]
id = "api-design"
name = "API Design Kit"
description = """
Best practices for designing and implementing robust APIs.
Covers RESTful design principles, error response patterns, versioning strategies,
authentication/authorization, and documentation approaches.
Language-agnostic patterns applicable to any backend stack.
"""
min_context_tokens = 3500
recommended_context_tokens = 9000

[meta_skill.metadata]
author = "ms-community"
version = "1.0.0"
tags = ["api", "rest", "design", "backend", "http"]
tech_stacks = ["rust", "go", "python", "typescript", "java"]

# Use latest compatible versions for all skills

# Slice references - design principles first

[[slices]]
skill_id = "rest-design"
slice_ids = ["resource-naming", "http-methods", "status-codes"]
priority = 100
required = true

[[slices]]
skill_id = "api-errors"
slice_ids = ["error-response-format", "validation-errors", "problem-details-rfc"]
priority = 95
required = true

[[slices]]
skill_id = "api-versioning"
slice_ids = ["url-versioning", "header-versioning", "deprecation-strategy"]
priority = 80
required = false

[[slices]]
skill_id = "api-security"
slice_ids = ["authentication-patterns", "authorization-rbac", "rate-limiting"]
priority = 85
required = false
level = "extended"

# Conditional: OpenAPI documentation
[[slices]]
skill_id = "openapi"
slice_ids = ["schema-design", "operation-documentation", "example-generation"]
priority = 70
required = false

[[slices.conditions]]
type = "file_exists"
value = "openapi.yaml"

# Conditional: GraphQL (alternative to REST)
[[slices]]
skill_id = "graphql-design"
slice_ids = ["schema-first-design", "resolver-patterns", "error-handling"]
priority = 65
required = false

[[slices.conditions]]
type = "file_exists"
value = "schema.graphql"

# Performance patterns (lower priority)
[[slices]]
skill_id = "api-performance"
slice_ids = ["pagination-patterns", "caching-headers", "compression"]
priority = 55
required = false
level = "deep"
