# Rust Safety Kit
# Essential patterns for writing safe, reliable Rust code.
# Covers error handling, memory safety, concurrency, and defensive programming.

[meta_skill]
id = "rust-safety"
name = "Rust Safety Kit"
description = """
Essential patterns for writing safe, reliable Rust code.
Covers error handling, memory safety, concurrency patterns, and defensive programming.
Designed for production Rust codebases where correctness is critical.
"""
min_context_tokens = 3000
recommended_context_tokens = 10000

[meta_skill.metadata]
author = "ms-community"
version = "1.0.0"
tags = ["rust", "safety", "error-handling", "memory", "concurrency"]
tech_stacks = ["rust"]

# Use latest compatible versions for all skills

# Slice references - safety-critical patterns first

[[slices]]
skill_id = "rust-error-handling"
slice_ids = ["result-patterns", "error-propagation", "custom-error-types"]
priority = 100
required = true

[[slices]]
skill_id = "rust-memory-safety"
slice_ids = ["ownership-patterns", "lifetime-annotations", "borrow-checker-tips"]
priority = 95
required = true

[[slices]]
skill_id = "rust-concurrency"
slice_ids = ["thread-safety", "mutex-patterns", "channel-communication"]
priority = 85
required = false

[[slices]]
skill_id = "rust-defensive"
slice_ids = ["input-validation", "panic-handling", "graceful-degradation"]
priority = 80
required = false
level = "extended"

# Conditional: async safety patterns
[[slices]]
skill_id = "rust-async-safety"
slice_ids = ["async-error-handling", "task-cancellation", "timeout-patterns"]
priority = 75
required = false

[[slices.conditions]]
type = "file_exists"
value = "Cargo.toml"

[[slices.conditions]]
type = "env_var"
value = "RUST_ASYNC_PROJECT"

# Testing patterns (lower priority, optional)
[[slices]]
skill_id = "rust-testing"
slice_ids = ["property-testing", "fuzzing-basics", "integration-test-patterns"]
priority = 60
required = false
level = "deep"
